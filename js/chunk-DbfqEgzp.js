import{d as e,c as l,a,b as t,G as o,F as s,A as r,B as u,o as n,u as c,s as d,r as i,a9 as p,w as b,h as m,t as v,j as f,D as w,E as x,p as g,J as C,H as h,m as y,aa as k,ab as L}from"./chunk-7McyaHaY.js";import{_ as V,u as P,i as T,l as _,t as U,e as S,f as A}from"./chunk-BhGQo3Ao.js";const D={class:"w-full h-auto"},I=["onClick"],R=V(e({__name:"PatternSetting",props:{rowCount:{type:Number,default:17},cardColor:{type:String,default:"#fff"},patternColor:{type:String,default:"#000"},patternList:{type:Array,default:()=>[]}},setup(e){const c=e,d=l(()=>c);return(e,l)=>(n(),a("div",D,[t("ul",{class:"pattern-list",style:o({gridTemplateColumns:`repeat(${d.value.rowCount},1fr)`})},[(n(!0),a(s,null,r(7*d.value.rowCount,e=>(n(),a("li",{key:e,class:"w-5 h-5",style:o({backgroundColor:d.value.patternList.includes(e)?d.value.patternColor:d.value.cardColor}),onClick:u(l=>function(e,l){if(d.value.patternList.includes(l)){const e=d.value.patternList.indexOf(l);d.value.patternList.splice(e,1)}else d.value.patternList.push(l)}(0,e),["stop"])},null,12,I))),128))],4)]))}}),[["__scopeId","data-v-170dfa96"]]),z={class:"modal-box"},N={class:"text-lg font-bold"},j={class:"py-4"},q={class:"modal-action"},B={method:"dialog",class:"flex gap-3"},H={class:"mb-8"},F={class:"flex flex-row items-center w-full gap-24 mb-10 form-control"},O={class:""},E={class:"label"},G={class:"label-text"},J=["placeholder"],M={class:"flex flex-row items-center w-full gap-24 mb-10 form-control"},W={class:""},$={class:"label"},K={class:"label-text"},Q={class:"help"},X={key:0,class:"text-sm text-red-400 help-text"},Y=["data-tip"],Z=["disabled"],ee={class:"loading loading-ring loading-md"},le={class:"w-full max-w-xs form-control"},ae={class:"label"},te={class:"label-text"},oe={disabled:"",selected:""},se=["value"],re={class:"w-full max-w-xs form-control"},ue={class:"label"},ne={class:"label-text"},ce={disabled:"",selected:""},de=["value"],ie={class:"w-full max-w-xs form-control"},pe={class:"label"},be={class:"label-text"},me={disabled:"",selected:""},ve=["value"],fe={class:"w-full max-w-xs form-control"},we={class:"label"},xe={class:"label-text"},ge={class:"w-full max-w-xs form-control"},Ce={class:"label"},he={class:"label-text"},ye={class:"w-full max-w-xs form-control"},ke={class:"label"},Le={class:"label-text"},Ve={class:"flex flex-row w-full max-w-xs gap-10 mb-10 form-control"},Pe={class:"label"},Te={class:"label-text"},_e={class:"label"},Ue={class:"label-text"},Se={class:"w-full max-w-xs mb-10 form-control"},Ae={class:"label"},De={class:"label-text"},Ie={class:"w-full max-w-xs form-control"},Re={class:"label"},ze={class:"label-text"},Ne={class:"flex flex-row items-center w-full gap-24 mb-0 form-control"},je={class:"label"},qe={class:"label-text"},Be={class:"h-auto"},He={class:"flex w-full h-24 gap-3 m-0"},Fe=["data-tip"],Oe={class:"w-full max-w-xs mb-10 form-control"},Ee={class:"label"},Ge={class:"label-text"},Je=["checked"],Me=e({__name:"FaceConfig",setup(e){const{t:l}=c(),o=P().globalConfig,V=P().personConfig,D=P().prizeConfig,I=P().log,{getTopTitle:Me,getTheme:We,getPatterColor:$e,getPatternList:Ke,getCardColor:Qe,getLuckyColor:Xe,getTextColor:Ye,getCardSize:Ze,getTextSize:el,getRowCount:ll,getIsShowPrizeList:al,getLanguage:tl,getBackground:ol,getImageList:sl,getIsShowAvatar:rl}=d(o),{getAlreadyPersonList:ul,getNotPersonList:nl}=d(V),cl=i(),dl=i(),il=i(0),pl=i(We.value.name),bl=i(structuredClone(Me.value)),ml=i(structuredClone(Qe.value)),vl=i(structuredClone(Xe.value)),fl=i(structuredClone(Ye.value)),wl=i(structuredClone(Ze.value)),xl=i(structuredClone(el.value)),gl=i(structuredClone(ll.value)),Cl=i(structuredClone(tl.value)),hl=i(structuredClone(al.value)),yl=i(structuredClone(rl.value)),kl=i(structuredClone($e.value)),Ll=i(Object.keys(L)),Vl=i(L),Pl=i(ol.value),Tl=i({rowCount:gl}),_l=i({rowCount:""}),Ul=p.object({rowCount:p.number({required_error:T.global.t("error.require"),invalid_type_error:T.global.t("error.requireNumber")}).min(1,T.global.t("error.minNumber1")).max(100,T.global.t("error.maxNumber100"))}),Sl={rowCount:Tl.value.rowCount};function Al(){il.value=2,setTimeout(()=>{const e=ul.value.length,l=nl.value.length;if(e<=0&&l<=0)return;const a=ul.value.concat(nl.value),t=a.slice(0,e),o=a.slice(e,l+e);V.deleteAllPerson(),V.addNotPersonList(o),V.addAlreadyPersonList(t,null),il.value=0},1e3)}function Dl(){o.setPatternList([])}function Il(){o.resetPatternList()}function Rl(){o.reset(),V.reset(),D.resetDefault(),I.deleteAllLog(),window.location.reload()}return b(()=>Tl.value.rowCount,()=>{var e;Sl.rowCount=Tl.value.rowCount,(e=Sl,Ul.parseAsync(e)).then(e=>{e.rowCount&&(il.value=1,o.setRowCount(e.rowCount))}).catch(e=>{_l.value.rowCount=e.issues[0].message})}),b(bl,e=>{o.setTopTitle(e)}),b(pl,e=>{const l=Vl.value[e];o.setTheme({name:e,detail:l}),U(e),l.primary&&(S(l.primary)||A(l.primary))&&o.setCardColor(l.primary)},{deep:!0}),b(ml,e=>{o.setCardColor(e)},{deep:!0}),b(vl,e=>{o.setLuckyCardColor(e)},{deep:!0}),b(kl,e=>{o.setPatterColor(e)}),b(fl,e=>{o.setTextColor(e)},{deep:!0}),b(wl,e=>{o.setCardSize(e)},{deep:!0}),b(hl,()=>{o.setIsShowPrizeList(hl.value)}),b(Pl,e=>{o.setBackground(e)}),b(Cl,e=>{o.setLanguage(e)}),b(yl,()=>{o.setIsShowAvatar(yl.value)}),m(()=>{}),(e,o)=>(n(),a(s,null,[t("dialog",{id:"my_modal_1",ref_key:"resetDataDialogRef",ref:dl,class:"border-none modal"},[t("div",z,[t("h3",N,v(f(l)("dialog.titleTip")),1),t("p",j,v(f(l)("dialog.dialogResetAllData")),1),t("div",q,[t("form",B,[t("button",{class:"btn",onClick:o[0]||(o[0]=e=>dl.value.close())},v(f(l)("button.cancel")),1),t("button",{class:"btn",onClick:Rl},v(f(l)("button.confirm")),1)])])])],512),t("div",null,[t("h2",null,v(f(l)("viewTitle.globalSetting")),1),t("div",H,[t("button",{class:"btn btn-sm btn-primary",onClick:o[1]||(o[1]=e=>dl.value.showModal())},v(f(l)("button.resetAllData")),1)]),t("label",F,[t("div",O,[t("div",E,[t("span",G,v(f(l)("table.title")),1)]),w(t("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>bl.value=e),type:"text",placeholder:f(l)("placeHolder.enterTitle"),class:"w-full max-w-xs input input-bordered"},null,8,J),[[x,bl.value]])])]),t("label",M,[t("div",W,[t("div",$,[t("span",K,v(f(l)("table.columnNumber")),1)]),w(t("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>Tl.value.rowCount=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[x,Tl.value.rowCount]]),t("div",Q,[_l.value.rowCount?(n(),a("span",X,v(_l.value.rowCount),1)):g("",!0)])]),t("div",null,[t("div",{class:"tooltip","data-tip":f(l)("tooltip.resetLayout")},[t("button",{class:"mt-5 btn btn-info btn-sm",disabled:1!==il.value,onClick:Al},[t("span",null,v(f(l)("button.setLayout")),1),w(t("span",ee,null,512),[[C,2===il.value]])],8,Z)],8,Y)])]),t("label",le,[t("div",ae,[t("span",te,v(f(l)("table.language")),1)]),w(t("select",{"onUpdate:modelValue":o[4]||(o[4]=e=>Cl.value=e),"data-choose-theme":"",class:"w-full max-w-xs border-solid select border-1"},[t("option",oe,v(f(l)("table.language")),1),(n(!0),a(s,null,r(f(_),e=>(n(),a("option",{key:e.key,value:e.key},v(e.name),9,se))),128))],512),[[h,Cl.value]])]),t("label",re,[t("div",ue,[t("span",ne,v(f(l)("table.theme")),1)]),w(t("select",{"onUpdate:modelValue":o[5]||(o[5]=e=>pl.value=e),"data-choose-theme":"",class:"w-full max-w-xs border-solid select border-1"},[t("option",ce,v(f(l)("table.theme")),1),(n(!0),a(s,null,r(Ll.value,(e,l)=>(n(),a("option",{key:l,value:e},v(e),9,de))),128))],512),[[h,pl.value]])]),t("label",ie,[t("div",pe,[t("span",be,v(f(l)("table.backgroundImage")),1)]),w(t("select",{"onUpdate:modelValue":o[6]||(o[6]=e=>Pl.value=e),"data-choose-theme":"",class:"w-full max-w-xs border-solid select border-1"},[t("option",me,v(f(l)("table.backgroundImage")),1),(n(!0),a(s,null,r([{name:"❌",url:"",id:""},...f(sl)],(e,l)=>(n(),a("option",{key:l,value:e},v(e.name),9,ve))),128))],512),[[h,Pl.value]])]),t("label",fe,[t("div",we,[t("span",xe,v(f(l)("table.cardColor")),1)]),y(f(k),{ref_key:"colorPickerRef",ref:cl,modelValue:ml.value,"onUpdate:modelValue":o[7]||(o[7]=e=>ml.value=e),"pure-color":ml.value,"onUpdate:pureColor":o[8]||(o[8]=e=>ml.value=e)},null,8,["modelValue","pure-color"])]),t("label",ge,[t("div",Ce,[t("span",he,v(f(l)("table.winnerColor")),1)]),y(f(k),{ref_key:"colorPickerRef",ref:cl,modelValue:vl.value,"onUpdate:modelValue":o[9]||(o[9]=e=>vl.value=e),"pure-color":vl.value,"onUpdate:pureColor":o[10]||(o[10]=e=>vl.value=e)},null,8,["modelValue","pure-color"])]),t("label",ye,[t("div",ke,[t("span",Le,v(f(l)("table.textColor")),1)]),y(f(k),{ref_key:"colorPickerRef",ref:cl,modelValue:fl.value,"onUpdate:modelValue":o[11]||(o[11]=e=>fl.value=e),"pure-color":fl.value,"onUpdate:pureColor":o[12]||(o[12]=e=>fl.value=e)},null,8,["modelValue","pure-color"])]),t("label",Ve,[t("div",null,[t("div",Pe,[t("span",Te,v(f(l)("table.cardWidth")),1)]),w(t("input",{"onUpdate:modelValue":o[13]||(o[13]=e=>wl.value.width=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[x,wl.value.width]])]),t("div",null,[t("div",_e,[t("span",Ue,v(f(l)("table.cardHeight")),1)]),w(t("input",{"onUpdate:modelValue":o[14]||(o[14]=e=>wl.value.height=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[x,wl.value.height]])])]),t("label",Se,[t("div",Ae,[t("span",De,v(f(l)("table.textSize")),1)]),w(t("input",{"onUpdate:modelValue":o[15]||(o[15]=e=>xl.value=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[x,xl.value]])]),t("label",Ie,[t("div",Re,[t("span",ze,v(f(l)("table.highlightColor")),1)]),y(f(k),{ref_key:"colorPickerRef",ref:cl,modelValue:kl.value,"onUpdate:modelValue":o[16]||(o[16]=e=>kl.value=e),"pure-color":kl.value,"onUpdate:pureColor":o[17]||(o[17]=e=>kl.value=e)},null,8,["modelValue","pure-color"])]),t("label",Ne,[t("div",null,[t("div",je,[t("span",qe,v(f(l)("table.patternSetting")),1)]),t("div",Be,[y(R,{"row-count":f(ll),"card-color":f(Qe),"pattern-color":f($e),"pattern-list":f(Ke)},null,8,["row-count","card-color","pattern-color","pattern-list"])])])]),t("div",He,[t("button",{class:"mt-5 btn btn-info btn-sm",onClick:u(Dl,["stop"])},[t("span",null,v(f(l)("button.clearPattern")),1)]),t("div",{class:"tooltip","data-tip":f(l)("tooltip.defaultLayout")},[t("button",{class:"mt-5 btn btn-info btn-sm",onClick:Il},[t("span",null,v(f(l)("button.DefaultPattern")),1)])],8,Fe)]),t("label",Oe,[t("div",Ee,[t("span",Ge,v(f(l)("table.alwaysDisplay")),1)]),t("input",{type:"checkbox",checked:hl.value,class:"mt-2 border-solid checkbox checkbox-secondary border-1",onChange:o[18]||(o[18]=e=>hl.value=!hl.value)},null,40,Je)])])],64))}});export{Me as default};
